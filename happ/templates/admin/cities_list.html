{% extends 'admin/base.html' %}
{% load static %}

{% block title %}
Список городов
{% endblock %}

{% block main %}
<div class="">
  <div class="page-title">
    <div class="title_left">
      <h3>Список <small>городов</small></h3>
    </div>
  </div>

  <div class="clearfix"></div>

  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_title">
          <h2>Города</h2>
          <div class="clearfix"></div>
        </div>
        <div class="x_content">
          <div id="city-table" ic-src="{% url 'admin-cities-list' %}?format=html" ic-trigger-on="load" ic-target="#city-table" ic-indicator="#indicator" ic-deps="*">

          </div>
          <center> <!-- lol -->
            <i class="fa fa-spinner fa-spin fa-5x" id="indicator" style="display: none"></i>
          </center>
          {% if request.user.role == roles.root %}
            <div class="pull-left">
              <button type="button" class="btn btn-success" data-toggle="modal" data-target="#create-form"  ic-get-from="{% url 'admin-cities-create' %}?format=html" ic-target="#create-form" ic-indicator="indicator_form">Добавить город</button>
              <div id="create-form" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-content">
                    <div class="modal-body">
                      <center> <!-- lol -->
                        <i class="fa fa-spinner fa-spin fa-5x" id="indicator_form" style="display: none"></i>
                      </center>
                    </div>
                  </div>
              </div>
            </div>
          {% endif %}

        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
    <!-- jQuery -->
    <script src="{% get_static_prefix %}js/jquery.min.js"></script>
    <!-- Intercooler js -->
    <script src="{% get_static_prefix %}js/intercooler-0.9.7.min.js"></script>
    <!-- Bootstrap -->
    <script src="{% get_static_prefix %}js/bootstrap.min.js"></script>
    <!-- Bootstrap-select -->
    <script src="{% get_static_prefix %}js/bootstrap-select.min.js"></script>
    <!-- Custom -->
    <script src="{% get_static_prefix %}js/custom.js"></script>
    <!-- google maps -->
    <script src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}"></script>

{% endblock %}
